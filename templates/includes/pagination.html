{% load i18n admin_gradient %}
{% load static %}
{% load query_transform %}
{% load get_values_around %}

{% if paginator.num_pages > 1 %}
    <div class="card-footer px-3 border-0 d-flex flex-column flex-lg-row align-items-center justify-content-between">
        <nav aria-label="Page navigation example">
            <ul class="pagination mb-0">
                <li class="page-item">
                    {% if page_obj.number > 1 %}
                        <a class="page-link" href="?{% query_transform request page=page_obj.number|neg_num:1 %}">Previous</a>
                    {% else %}
                        <span class="page-link">Previous</span>
                    {% endif %}
                </li>
                {% for i in paginator.page_range|get_values_around:page_obj.number %}
                    {% if i == page_obj.number %}
                        <li class="page-item active">
                            <input id="current-page-input" oninput="adjustWidth(this)" class="page-link" size="1" value="{{ i }}">
                        </li>
                    {% else %}
                        <li class="page-item">
                            <a class="page-link" href="?{% query_transform request page=i %}">{{ i }}</a>
                        </li>
                    {% endif %}
                {% endfor %}
                <li class="page-item">
                    {% if page_obj.number < paginator.num_pages %}
                        <a class="page-link" href="?{% query_transform request page=page_obj.number|sum_number:1 %}">Next</a>
                    {% else %}
                        <span class="page-link">Next</span>
                    {% endif %}
                </li>
                {% if show_all_url %}
                    <li class="page-item">
                        <a href="{{ show_all_url }}" class="page-link">{% trans 'Show all' %}</a>
                    </li>
                {% endif %}
            </ul>
        </nav>
        <div class="fw-normal small mt-4 mt-lg-0">
            Showing <b>{{ page_obj.object_list|length }}</b>
            out of <b>{{ paginator.object_list|length }}</b> entries
        </div>
    </div>
    <script src="{% static 'assets/js/pages/pagination-input.js' %}"></script>
{% endif %}
